(function(n){n.widget("cb.toaster",{options:{},items:null,currentItemIndex:null,nextItemIndex:null,itemWidth:null,numItems:null,isAnimating:null,prevLink:null,nextLink:null,transitionDefaults:{duration:500,easing:"ease-in-out 250ms"},_addHandlers:function(){var t=this,u=t.element,i,r;i=n(u).next(),t.nextLink=n(i).find(".cb-toaster-next"),t.prevLink=n(i).find(".cb-toaster-prev"),r=n(i).siblings(".cb-toaster-paging").find(".cb-toaster-paging-item");t.nextLink.on("click",function(n){n.preventDefault(),t.currentItemIndex<t.numItems&&(t.nextItemIndex=t.currentItemIndex+1,t._navigate())});t.prevLink.on("click",function(n){n.preventDefault(),t.currentItemIndex>0&&(t.nextItemIndex=t.currentItemIndex-1,t._navigate())});r.on("click",function(i){i.preventDefault(),t.nextItemIndex=n(this).index(),t._navigate()})},_create:function(){var t=this,i=t.element;(t.items=n(i).find("li"),t.items.length!==0)&&(i.addClass("cb-toaster"),t.items.each(function(){n(this).addClass("cb-toaster-item")}),t._createWrapper(),t._createDisplayTitle(),t._createPaging(),t._createNavigation(),t._setViewport(),t._addHandlers(),t._setActivePage(0))},_createDisplayTitle:function(){var i=this,r=i.element,t;t=n('<h2 class="cb-toaster-display-title"><\/h2>'),r.after(t)},_createNavigation:function(){var u=this,f=u.element,t,i,r;t=n('<nav class="cb-toaster-nav"><\/nav>'),i=n('<a class="cb-toaster-next ir" href="#" title="Navigate to next item">Next<\/a>'),r=n('<a class="cb-toaster-prev ir" href="#" title="Navigate to previous item">Previous<\/a>'),t.append(r,i),f.after(t)},_createPaging:function(){for(var u=this,e=u.element,r,f,i=n('<ul class="cb-toaster-paging"><\/ul>'),t=1;t<u.items.length+1;t+=1)f=n('<a class="cb-toaster-paging-link ir" href="#"><\/a>').html(t).attr("title",t),r=n('<li class="cb-toaster-paging-item"><\/li>'),r.append(f),i.append(r);e.after(i)},_createWrapper:function(){var i=this,r=i.element,t,u=i.items.outerWidth();t=n('<div class="cb-toaster-wrapper"><\/div>'),t.css({width:u}),r.wrap(t)},destroy:function(){},_findDisplayTitle:function(){return this.element.siblings(".cb-toaster-display-title")},_init:function(){var n=this,t,i;n.items.length!==0&&(n.currentItemIndex=0,n.itemWidth=n.items.outerWidth(),n.numItems=n.items.length,n._setNavigationState(n.currentItemIndex),t=n.items.first(),t.addClass("is-active"),i=t.data("cb-toaster-title"),n._setDisplayTitle(i))},_navigate:function(){var n=this;n._slide(),n._setNavigationState(n.nextItemIndex)},_setActivePage:function(t){var r=this.element,i;i=r.siblings(".cb-toaster-paging").children(),i.removeClass("is-active"),n(i[t]).addClass("is-active")},_setDisplayTitle:function(n){this._findDisplayTitle().html(n)},_setNavigationState:function(n){var t=this,i=t.element,r=i.siblings(".cb-toaster-nav");r.children().removeClass("is-disabled"),n===0&&t.prevLink.addClass("is-disabled"),n===t.numItems-1&&t.nextLink.addClass("is-disabled")},_setOption:function(){},_setViewport:function(){var n=this,t=n.element,i=n.items.outerHeight(),r=n.items.outerWidth();t.css({height:i,width:r})},_slide:function(){var t=this,i,r,u;if(!t.isAnimating)if(t.isAnimating=!0,t._findDisplayTitle().fadeOut("slow"),r=t.items.eq(t.currentItemIndex),i=t.items.eq(t.nextItemIndex),n.support.transitions){r.removeClass("is-active");r.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){t.isAnimating=!1,t._setActivePage(t.nextItemIndex);i.addClass("is-active").one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){u=n(this).data("cb-toaster-title"),t._setDisplayTitle(u),t._findDisplayTitle().fadeIn("slow"),t.currentItemIndex=t.nextItemIndex})})}else t._setActivePage(t.nextItemIndex),r.delay(250).animate({top:"100%"},250,function(){n(this).removeClass("is-active"),i.delay(250).animate({top:"0"},250,function(){n(this).addClass("is-active")})}),u=i.find(".tt-feature-title").text(),t._findDisplayTitle().fadeOut("slow",function(){t._setDisplayTitle(u),t._findDisplayTitle().fadeIn("slow")}),t.isAnimating=!1,t.currentItemIndex=t.nextItemIndex}})})(jQuery)